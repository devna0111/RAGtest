{% extends 'base.html' %}
{% load static %}

{% block title %}WebLLM Chat - ì±„íŒ…{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/chat.css' %}">
{% endblock %}

{% block content %}
<div class="chat-container">
    <!-- ì™¼ìª½ ì‚¬ì´ë“œë°” -->
    <div class="sidebar">
        <div class="sidebar-header">
            <h3>WebLLM Chat</h3>
            <p>AI ëª¨ë¸ì´ ë¸Œë¼ìš°ì €ì—ì„œ ì‹¤í–‰</p>
        </div>
        
        <div class="chat-list">
            <div class="chat-item active">
                <div class="chat-title">JavaScript Hello World Console</div>
                <div class="chat-info">2 messages</div>
                <div class="chat-date">12/3/2024, 9:34:26 AM</div>
            </div>
        </div>
        
        <div class="sidebar-footer">
            <button class="new-chat-btn">ìƒˆ ì±„íŒ…</button>
        </div>
    </div>

    <!-- ë©”ì¸ ì±„íŒ… ì˜ì—­ -->
    <div class="chat-main">
        <div class="chat-header">
            <h2>JavaScript Hello World Console</h2>
            <div class="chat-meta">2 messages</div>
        </div>

        <div class="chat-messages" id="chatMessages">
            <div class="message system-message">
                <div class="message-content">
                    ì•ˆë…•í•˜ì„¸ìš”! ì–´ë–»ê²Œ ë„ì›€ì„ ë“œë¦´ê¹Œìš”?
                    <div class="system-prompt">System Prompt</div>
                </div>
            </div>

            <div class="message user-message">
                <div class="message-content">
                    Write one line of JavaScript that writes "Hello world" to the developer console.
                    <div class="message-time">12/3/2024, 9:34:25 AM</div>
                </div>
            </div>

            <div class="message assistant-message">
                <div class="message-avatar">Llama</div>
                <div class="message-content">
                    Here is one line of JavaScript that writes "Hello world" to the developer console:
                    <br><br>
                    <code>console.log("Hello world!");</code>
                    <div class="message-stats">
                        Profile: 192.4 tokens, Decode: 43.9 tokens, 12/3/2024, 9:34:25 AM
                    </div>
                </div>
            </div>
        </div>

        <!-- íŒŒì¼ ë“œë˜ê·¸ì•¤ë“œë¡­ ì˜ì—­ -->
        <div class="file-drop-zone" id="fileDropZone">
            <div class="drop-content">
                <div class="drop-icon">ğŸ“</div>
                <p>íŒŒì¼ì„ ì—¬ê¸°ì— ë“œë˜ê·¸í•˜ê±°ë‚˜ í´ë¦­í•˜ì—¬ ì—…ë¡œë“œí•˜ì„¸ìš”</p>
                <input type="file" id="fileInput" multiple style="display: none;">
            </div>
        </div>

        <!-- ì…ë ¥ ì˜ì—­ -->
        <div class="input-area">
            <div class="input-container">
                <div class="input-wrapper">
                    <textarea 
                        id="messageInput" 
                        placeholder="Enter to send, Shift + Enter to wrap, / to search prompts, : to use commands"
                        rows="1"
                    ></textarea>
                    <button class="file-attach-btn" id="fileAttachBtn">ğŸ“</button>
                    <button class="send-btn" id="sendBtn">ì „ì†¡</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- íŒŒì¼ ì—…ë¡œë“œ ëª¨ë‹¬ -->
<div class="file-modal" id="fileModal" style="display: none;">
    <div class="modal-content">
        <div class="modal-header">
            <h3>íŒŒì¼ ì—…ë¡œë“œ</h3>
            <button class="close-btn" id="closeModal">&times;</button>
        </div>
        <div class="modal-body">
            <div class="uploaded-files" id="uploadedFiles"></div>
        </div>
        <div class="modal-footer">
            <button class="cancel-btn" id="cancelUpload">ì·¨ì†Œ</button>
            <button class="confirm-btn" id="confirmUpload">ì—…ë¡œë“œ</button>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/chat.js' %}"></script>
{% endblock %}